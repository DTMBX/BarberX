<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>New Case - Evident</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/design-tokens.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/components.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/utilities.css') }}" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    {% include 'components/navbar.html' %}

    <main id="main">
      <div class="container" style="max-width: 720px; margin: 0 auto; padding: 2rem 1rem">
        <!-- Header -->
        <div style="margin-bottom: 2rem;">
          <a href="{{ url_for('cases.case_list') }}" style="color: var(--color-primary-400, #60a5fa); text-decoration: none; font-size: 0.875rem;">← Back to Cases</a>
          <h1 style="margin: 0.75rem 0 0.25rem 0; font-size: 1.75rem;">New Case</h1>
          <p style="margin: 0; color: var(--color-neutral-500); font-size: 0.875rem;">
            Enter case identification and jurisdiction details.
          </p>
        </div>

        <form method="POST" action="{{ url_for('cases.case_create') }}" style="display: flex; flex-direction: column; gap: 1.5rem;">
          <!-- Case Identification -->
          <fieldset class="card" style="padding: 1.5rem; border: none; margin: 0;">
            <legend style="font-weight: 600; font-size: 1rem; margin-bottom: 1rem; color: var(--color-text-primary, #e0e0e0);">Case Identification</legend>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
              <div>
                <label for="case_number" style="display: block; font-size: 0.8125rem; font-weight: 500; color: var(--color-neutral-400); margin-bottom: 0.375rem;">
                  Case Number <span style="color: var(--color-error-400, #f87171);">*</span>
                </label>
                <input
                  type="text"
                  id="case_number"
                  name="case_number"
                  required
                  placeholder="e.g. 2025-CR-00142"
                  style="
                    width: 100%;
                    padding: 0.5rem 0.75rem;
                    border: 1px solid var(--color-border, #2a2a4a);
                    border-radius: 6px;
                    background: var(--color-surface, #1a1a2e);
                    color: var(--color-text-primary, #e0e0e0);
                    font-size: 0.875rem;
                    box-sizing: border-box;
                  "
                />
              </div>

              <div>
                <label for="case_type" style="display: block; font-size: 0.8125rem; font-weight: 500; color: var(--color-neutral-400); margin-bottom: 0.375rem;">
                  Case Type
                </label>
                <select
                  id="case_type"
                  name="case_type"
                  style="
                    width: 100%;
                    padding: 0.5rem 0.75rem;
                    border: 1px solid var(--color-border, #2a2a4a);
                    border-radius: 6px;
                    background: var(--color-surface, #1a1a2e);
                    color: var(--color-text-primary, #e0e0e0);
                    font-size: 0.875rem;
                    box-sizing: border-box;
                  "
                >
                  <option value="criminal">Criminal</option>
                  <option value="civil">Civil</option>
                  <option value="internal_affairs">Internal Affairs</option>
                  <option value="use_of_force">Use of Force</option>
                  <option value="foia">FOIA / OPRA Request</option>
                  <option value="administrative">Administrative</option>
                </select>
              </div>
            </div>

            <div style="margin-top: 1rem;">
              <label for="case_name" style="display: block; font-size: 0.8125rem; font-weight: 500; color: var(--color-neutral-400); margin-bottom: 0.375rem;">
                Case Name <span style="color: var(--color-error-400, #f87171);">*</span>
              </label>
              <input
                type="text"
                id="case_name"
                name="case_name"
                required
                placeholder="e.g. State v. Doe"
                style="
                  width: 100%;
                  padding: 0.5rem 0.75rem;
                  border: 1px solid var(--color-border, #2a2a4a);
                  border-radius: 6px;
                  background: var(--color-surface, #1a1a2e);
                  color: var(--color-text-primary, #e0e0e0);
                  font-size: 0.875rem;
                  box-sizing: border-box;
                "
              />
            </div>

            <div style="margin-top: 1rem;">
              <label for="description" style="display: block; font-size: 0.8125rem; font-weight: 500; color: var(--color-neutral-400); margin-bottom: 0.375rem;">
                Description
              </label>
              <textarea
                id="description"
                name="description"
                rows="3"
                placeholder="Brief factual description of the case (no legal conclusions)"
                style="
                  width: 100%;
                  padding: 0.5rem 0.75rem;
                  border: 1px solid var(--color-border, #2a2a4a);
                  border-radius: 6px;
                  background: var(--color-surface, #1a1a2e);
                  color: var(--color-text-primary, #e0e0e0);
                  font-size: 0.875rem;
                  box-sizing: border-box;
                  resize: vertical;
                "
              ></textarea>
            </div>
          </fieldset>

          <!-- Incident Details -->
          <fieldset class="card" style="padding: 1.5rem; border: none; margin: 0;">
            <legend style="font-weight: 600; font-size: 1rem; margin-bottom: 1rem; color: var(--color-text-primary, #e0e0e0);">Incident Details</legend>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
              <div>
                <label for="incident_number" style="display: block; font-size: 0.8125rem; font-weight: 500; color: var(--color-neutral-400); margin-bottom: 0.375rem;">
                  Incident / CAD Number
                </label>
                <input
                  type="text"
                  id="incident_number"
                  name="incident_number"
                  placeholder="e.g. INC-2025-04182"
                  style="
                    width: 100%;
                    padding: 0.5rem 0.75rem;
                    border: 1px solid var(--color-border, #2a2a4a);
                    border-radius: 6px;
                    background: var(--color-surface, #1a1a2e);
                    color: var(--color-text-primary, #e0e0e0);
                    font-size: 0.875rem;
                    box-sizing: border-box;
                  "
                />
              </div>
              <div>
                <label for="incident_date" style="display: block; font-size: 0.8125rem; font-weight: 500; color: var(--color-neutral-400); margin-bottom: 0.375rem;">
                  Incident Date
                </label>
                <input
                  type="date"
                  id="incident_date"
                  name="incident_date"
                  style="
                    width: 100%;
                    padding: 0.5rem 0.75rem;
                    border: 1px solid var(--color-border, #2a2a4a);
                    border-radius: 6px;
                    background: var(--color-surface, #1a1a2e);
                    color: var(--color-text-primary, #e0e0e0);
                    font-size: 0.875rem;
                    box-sizing: border-box;
                  "
                />
              </div>
            </div>
          </fieldset>

          <!-- Jurisdiction -->
          <fieldset class="card" style="padding: 1.5rem; border: none; margin: 0;">
            <legend style="font-weight: 600; font-size: 1rem; margin-bottom: 1rem; color: var(--color-text-primary, #e0e0e0);">Jurisdiction</legend>

            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem;">
              <div>
                <label for="jurisdiction" style="display: block; font-size: 0.8125rem; font-weight: 500; color: var(--color-neutral-400); margin-bottom: 0.375rem;">
                  Jurisdiction
                </label>
                <input
                  type="text"
                  id="jurisdiction"
                  name="jurisdiction"
                  placeholder="e.g. Essex County, NJ"
                  style="
                    width: 100%;
                    padding: 0.5rem 0.75rem;
                    border: 1px solid var(--color-border, #2a2a4a);
                    border-radius: 6px;
                    background: var(--color-surface, #1a1a2e);
                    color: var(--color-text-primary, #e0e0e0);
                    font-size: 0.875rem;
                    box-sizing: border-box;
                  "
                />
              </div>
              <div>
                <label for="jurisdiction_state" style="display: block; font-size: 0.8125rem; font-weight: 500; color: var(--color-neutral-400); margin-bottom: 0.375rem;">
                  State (2-letter)
                </label>
                <input
                  type="text"
                  id="jurisdiction_state"
                  name="jurisdiction_state"
                  maxlength="2"
                  placeholder="NJ"
                  style="
                    width: 100%;
                    padding: 0.5rem 0.75rem;
                    border: 1px solid var(--color-border, #2a2a4a);
                    border-radius: 6px;
                    background: var(--color-surface, #1a1a2e);
                    color: var(--color-text-primary, #e0e0e0);
                    font-size: 0.875rem;
                    box-sizing: border-box;
                    text-transform: uppercase;
                  "
                />
              </div>
              <div>
                <label for="jurisdiction_agency_type" style="display: block; font-size: 0.8125rem; font-weight: 500; color: var(--color-neutral-400); margin-bottom: 0.375rem;">
                  Agency Type
                </label>
                <select
                  id="jurisdiction_agency_type"
                  name="jurisdiction_agency_type"
                  style="
                    width: 100%;
                    padding: 0.5rem 0.75rem;
                    border: 1px solid var(--color-border, #2a2a4a);
                    border-radius: 6px;
                    background: var(--color-surface, #1a1a2e);
                    color: var(--color-text-primary, #e0e0e0);
                    font-size: 0.875rem;
                    box-sizing: border-box;
                  "
                >
                  <option value="">— Select —</option>
                  <option value="municipal_pd">Municipal Police</option>
                  <option value="county_sheriff">County Sheriff</option>
                  <option value="state_police">State Police</option>
                  <option value="federal">Federal</option>
                  <option value="district_attorney">District Attorney</option>
                  <option value="public_defender">Public Defender</option>
                  <option value="inspector_general">Inspector General</option>
                  <option value="civilian_oversight">Civilian Oversight</option>
                </select>
              </div>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-top: 1rem;">
              <div>
                <label for="court_name" style="display: block; font-size: 0.8125rem; font-weight: 500; color: var(--color-neutral-400); margin-bottom: 0.375rem;">
                  Court
                </label>
                <input
                  type="text"
                  id="court_name"
                  name="court_name"
                  placeholder="e.g. Superior Court of New Jersey"
                  style="
                    width: 100%;
                    padding: 0.5rem 0.75rem;
                    border: 1px solid var(--color-border, #2a2a4a);
                    border-radius: 6px;
                    background: var(--color-surface, #1a1a2e);
                    color: var(--color-text-primary, #e0e0e0);
                    font-size: 0.875rem;
                    box-sizing: border-box;
                  "
                />
              </div>
              <div>
                <label for="retention_policy_ref" style="display: block; font-size: 0.8125rem; font-weight: 500; color: var(--color-neutral-400); margin-bottom: 0.375rem;">
                  Retention Policy Reference
                </label>
                <input
                  type="text"
                  id="retention_policy_ref"
                  name="retention_policy_ref"
                  placeholder="e.g. AG Directive 2024-1"
                  style="
                    width: 100%;
                    padding: 0.5rem 0.75rem;
                    border: 1px solid var(--color-border, #2a2a4a);
                    border-radius: 6px;
                    background: var(--color-surface, #1a1a2e);
                    color: var(--color-text-primary, #e0e0e0);
                    font-size: 0.875rem;
                    box-sizing: border-box;
                  "
                />
              </div>
            </div>
          </fieldset>

          <!-- Submit -->
          <div style="display: flex; justify-content: flex-end; gap: 1rem;">
            <a
              href="{{ url_for('cases.case_list') }}"
              style="
                padding: 0.625rem 1.25rem;
                border: 1px solid var(--color-border, #2a2a4a);
                border-radius: 6px;
                color: var(--color-text-secondary, #a0a0c0);
                text-decoration: none;
                font-size: 0.875rem;
              "
            >
              Cancel
            </a>
            <button
              type="submit"
              style="
                padding: 0.625rem 1.25rem;
                background: var(--color-primary-600);
                color: #fff;
                border: none;
                border-radius: 6px;
                font-size: 0.875rem;
                font-weight: 600;
                cursor: pointer;
              "
            >
              Create Case
            </button>
          </div>
        </form>
      </div>
    </main>
  </body>
</html>
